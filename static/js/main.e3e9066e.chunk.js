(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{109:function(t,e,r){},127:function(t,e,r){},128:function(t,e,r){},157:function(t,e,r){"use strict";r.r(e);var a={};r.r(a),r.d(a,"selectIsLoggedIn",(function(){return V}));var n=r(0),s=r.n(n),i=r(39),c=r.n(i);r(127),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(128);var o=r(223),d=r(224),u=r(225),l=r(226),p=r(219),f=r(222),j=r(217),b=r(227),h=r(228),O=r(208),x=r(17),m=r(202),v=r(213),g=r(211),k=r(24),y=r(18),w=Object(y.b)("app/setAppStatus"),T=Object(y.b)("app/setAppError"),I=r(1),C=n.forwardRef((function(t,e){return Object(I.jsx)(g.a,Object(x.a)({elevation:6,ref:e,variant:"filled"},t))})),L=function(){var t=Object(k.c)((function(t){return t.app.error})),e=Object(k.b)(),r=function(t,r){"clickaway"!==r&&e(T({error:null}))},a=null!==t;return Object(I.jsx)(m.a,{spacing:2,sx:{width:"100%"},children:Object(I.jsx)(v.a,{open:a,autoHideDuration:6e3,onClose:r,children:Object(I.jsx)(C,{onClose:r,severity:"error",sx:{width:"100%"},children:t})})})},S=r(14),E=r(19),A=r(15),N=r.n(A),_=r(216),z=r(212),F=r(214),M=r(221),P=r(220),D=r(204),R=r(209),W=r(110),q=r(218),V=function(t){return t.auth.isLoggedIn},H=r(34);function B(t){var e=Object(k.b)();return Object(n.useMemo)((function(){return Object(H.b)(t,e)}),[t,e])}var U,Z,K=function(){return Object(k.b)()},J=function(){var t=K(),e=Object(k.c)(V),r=Object(W.a)({validate:function(t){var e={};return t.password?t.password.length>20&&(e.password="Must be 20 characters or less"):e.password="Password is required",t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email=" Email is required",e},initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(){var e=Object(E.a)(N.a.mark((function e(a,n){var s,i,c,o,d;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(bt.login(a));case 2:s=e.sent,bt.login.rejected.match(s)&&null!==(i=s.payload)&&void 0!==i&&null!==(c=i.fieldsErrors)&&void 0!==c&&c.length&&(d=null===(o=s.payload)||void 0===o?void 0:o.fieldsErrors[0],n.setFieldError(d.field,d.error)),r.resetForm();case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()});return e?Object(I.jsx)(S.a,{to:"/"}):Object(I.jsx)(_.a,{container:!0,justifyContent:"center",style:{marginTop:"40px"},children:Object(I.jsx)(q.a,{elevation:2,style:{padding:"15px"},children:Object(I.jsx)("form",{onSubmit:r.handleSubmit,children:Object(I.jsxs)(F.a,{children:[Object(I.jsxs)(D.a,{children:[Object(I.jsxs)("p",{children:["To log in get registered",Object(I.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",rel:"noreferrer",children:"here"})]}),Object(I.jsx)("p",{children:"or use common test account credentials:"}),Object(I.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(I.jsx)("p",{children:"Password: free"})]}),Object(I.jsxs)(P.a,{children:[Object(I.jsx)(R.a,Object(x.a)({label:"Email",margin:"normal"},r.getFieldProps("email"))),r.errors.email?Object(I.jsx)("div",{style:{color:"red",fontSize:"14px",fontWeight:"600",lineHeight:"14px"},children:r.errors.email}):null,Object(I.jsx)(R.a,Object(x.a)({type:"password",label:"Password",margin:"normal"},r.getFieldProps("password"))),r.errors.password?Object(I.jsx)("div",{style:{color:"red",fontSize:"14px",fontWeight:"600",lineHeight:"14px"},children:r.errors.password}):null,Object(I.jsx)(M.a,Object(x.a)(Object(x.a)({label:"Remember me",control:Object(I.jsx)(z.a,{})},r.getFieldProps("rememberMe")),{},{checked:r.values.rememberMe})),Object(I.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})]})})})})},Y=r(108),$=r.n(Y).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"ac5021a6-6592-4dfc-bd91-07a05b477711"}}),G=function(){return $.get("todo-lists")},X=function(t){return $.post("todo-lists",{title:t})},Q=function(t){return $.delete("todo-lists/".concat(t))},tt=function(t,e){return $.put("todo-lists/".concat(t),{title:e})},et=function(t){return $.get("todo-lists/".concat(t,"/tasks"))},rt=function(t,e){return $.post("todo-lists/".concat(t,"/tasks"),{title:e})},at=function(t,e){return $.delete("todo-lists/".concat(t,"/tasks/").concat(e))},nt=function(t,e,r){return $.put("todo-lists/".concat(t,"/tasks/").concat(e),r)},st=function(t){return $.post("auth/login",t)},it=function(){return $.delete("auth/login")},ct=function(){return $.get("auth/me")};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(U||(U={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(Z||(Z={}));var ot=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&e.dispatch(T({error:t.messages.length?t.messages[0]:"Some error occurred"})),e.dispatch(w({status:"failed"})),e.rejectWithValue({errors:t.messages,fieldsErrors:t.fieldsErrors})},dt=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&e.dispatch(T({error:t.message?t.message:"Some error occurred"})),e.dispatch(w({status:"failed"})),e.rejectWithValue({errors:[t.message]})},ut=Object(y.c)("auth/login",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(w({status:"loading"})),t.prev=1,t.next=4,st(e);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(w({status:"succeeded"})),t.abrupt("return");case 10:return t.abrupt("return",ot(a.data,r,!1));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",dt(t.t0,r,!1));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),lt=Object(y.c)("auth/logout",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(w({status:"loading"})),t.next=3,it();case 3:if(a=t.sent,t.prev=4,0!==a.data.resultCode){t.next=10;break}return r.dispatch(w({status:"succeeded"})),t.abrupt("return");case 10:return t.abrupt("return",ot(a.data,r,!1));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(4),t.abrupt("return",dt(t.t0,r,!1));case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e,r){return t.apply(this,arguments)}}()),pt={login:ut,logout:lt},ft=Object(y.d)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(t,e){t.isLoggedIn=e.payload.value}},extraReducers:function(t){t.addCase(ut.fulfilled,(function(t){t.isLoggedIn=!0})),t.addCase(lt.fulfilled,(function(t){t.isLoggedIn=!1}))}}),jt=ft.reducer,bt=Object(x.a)(Object(x.a)({},pt),ft.actions),ht=function(t){return t.app.status},Ot=function(t){return t.app.isInitialized},xt=bt.setIsLoggedIn,mt=Object(y.c)("application/initializeApp",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.dispatch,t.next=3,ct();case 3:0===t.sent.data.resultCode&&a(xt({value:!0}));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),vt={initializeApp:mt},gt=Object(y.d)({name:"application",initialState:{status:"idle",error:null,isInitialized:!1},reducers:{},extraReducers:function(t){t.addCase(mt.fulfilled,(function(t){t.isInitialized=!0})),t.addCase(w,(function(t,e){t.status=e.payload.status})),t.addCase(T,(function(t,e){t.error=e.payload.error}))}}),kt=gt.reducer,yt=Object(x.a)(Object(x.a)({},vt),gt.actions),wt=r(13),Tt=r(109),It=r.n(Tt),Ct=r(206),Lt=s.a.memo((function(t){var e=t.addItem,r=t.disabled,a=void 0!==r&&r,s=Object(n.useState)(""),i=Object(wt.a)(s,2),c=i[0],o=i[1],d=Object(n.useState)(null),u=Object(wt.a)(d,2),l=u[0],f=u[1],j=function(){var t=Object(E.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==c.trim()){t.next=3;break}return f("Title is required"),t.abrupt("return");case 3:return t.prev=3,t.next=6,e(c.trim(),{setError:f,setTitle:o});case 6:o(""),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),f(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:It.a.AddItemForm,children:[Object(I.jsx)(R.a,{error:!!l,disabled:a,helperText:l,label:"type value",variant:"outlined",value:c,onChange:function(t){o(t.currentTarget.value)},onKeyPress:function(t){if(null!==l&&f(null),"Enter"===t.key){if(""===c.trim())return void f("Title is required");e(c.trim(),{setError:f,setTitle:o}),o("")}}}),Object(I.jsx)(p.a,{size:"small",onClick:j,color:"primary",disabled:a,children:Object(I.jsx)(Ct.a,{})})]})})),St=r(207),Et=r(57),At=r.n(Et),Nt=s.a.memo((function(t){var e=Object(n.useState)(!1),r=Object(wt.a)(e,2),a=r[0],s=r[1],i=Object(n.useState)(""),c=Object(wt.a)(i,2),o=c[0],d=c[1];return a?Object(I.jsx)(R.a,{onBlur:function(){s(!1),t.onChange(o)},onChange:function(t){return d(t.currentTarget.value)},value:o,autoFocus:!0}):Object(I.jsx)("span",{onDoubleClick:function(){s(!0),d(t.title)},children:t.title})})),_t=Object(y.c)("todolists/fetchTodoLists",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(w({status:"loading"})),t.prev=1,t.next=4,G();case 4:return a=t.sent,r.dispatch(w({status:"succeeded"})),t.abrupt("return",{todolists:a.data});case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",dt(t.t0,r,!1));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()),zt=Object(y.c)("todolists/removeTodoLists",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=r.dispatch)(w({status:"loading"})),a(Dt({id:e,status:"loading"})),t.next=5,Q(e);case 5:return a(w({status:"succeeded"})),t.abrupt("return",{id:e});case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),Ft=Object(y.c)("todolists/addTodoLists",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(w({status:"loading"})),t.prev=1,t.next=4,X(e);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(w({status:"succeeded"})),t.abrupt("return",{todolist:a.data.data.item});case 10:return t.abrupt("return",ot(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",dt(t.t0,r,!1));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Mt=Object(y.c)("todolists/changeTodoListTitle",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(w({status:"loading"})),t.prev=1,t.next=4,tt(e.id,e.title);case 4:if(0!==(a=t.sent).data.resultCode){t.next=10;break}return r.dispatch(w({status:"succeeded"})),t.abrupt("return",{id:e.id,title:e.title});case 10:return t.abrupt("return",ot(a.data,r));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",dt(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Pt=Object(y.d)({name:"todolists",initialState:[],reducers:{changeTodoListFilter:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].filter=e.payload.filter},changeTodolistEntityStatus:function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].entityStatus=e.payload.status}},extraReducers:function(t){t.addCase(_t.fulfilled,(function(t,e){return e.payload.todolists.map((function(t){return Object(x.a)(Object(x.a)({},t),{},{filter:"all",entityStatus:"idle"})}))})),t.addCase(zt.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t.splice(r,1)})),t.addCase(Ft.fulfilled,(function(t,e){t.unshift(Object(x.a)(Object(x.a)({},e.payload.todolist),{},{filter:"all",entityStatus:"idle"}))})),t.addCase(Mt.fulfilled,(function(t,e){var r=t.findIndex((function(t){return t.id===e.payload.id}));t[r].title=e.payload.title}))}}),Dt=Pt.actions.changeTodolistEntityStatus,Rt={fetchTodolists:_t,removeTodoList:zt,addTodoList:Ft,changeTodoListTitle:Mt},Wt=Pt.reducer,qt=Object(x.a)(Object(x.a)({},Rt),Pt.actions),Vt=qt.addTodoList,Ht=qt.fetchTodolists,Bt=qt.removeTodoList,Ut=Object(y.c)("tasks/fetchTasks",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(w({status:"loading"})),t.prev=1,t.next=4,et(e);case 4:return a=t.sent,r.dispatch(w({status:"succeeded"})),t.abrupt("return",{todoListId:e,tasks:a.data.items});case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",dt(t.t0,r));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()),Zt=Object(y.c)("tasks/removeTask",function(){var t=Object(E.a)(N.a.mark((function t(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at(e.todoListId,e.taskId);case 2:return t.abrupt("return",{todoListId:e.todoListId,taskId:e.taskId});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Kt=Object(y.c)("tasks/addTask",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.dispatch(w({status:"loading"})),t.next=3,rt(e.todoListId,e.title);case 3:if(a=t.sent,t.prev=4,0!==a.data.resultCode){t.next=10;break}return r.dispatch(w({status:"succeeded"})),t.abrupt("return",a.data.data.item);case 10:return t.abrupt("return",ot(a.data,r,!1));case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(4),t.abrupt("return",dt(t.t0,r));case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e,r){return t.apply(this,arguments)}}()),Jt=Object(y.c)("tasks/updateTask",function(){var t=Object(E.a)(N.a.mark((function t(e,r){var a,n,s,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.getState(),n=a.tasks[e.todoListId].find((function(t){return t.id===e.taskId}))){t.next=4;break}return t.abrupt("return",r.rejectWithValue("task not found in the state"));case 4:return s=Object(x.a)({status:n.status,title:n.title,description:n.description,priority:n.priority,startDate:n.startDate,deadline:n.deadline},e.domainModel),t.next=7,nt(e.todoListId,e.taskId,s);case 7:if(i=t.sent,t.prev=8,0!==i.data.resultCode){t.next=13;break}return t.abrupt("return",e);case 13:return t.abrupt("return",ot(i.data,r,!1));case 14:t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(8),t.abrupt("return",dt(t.t0,r));case 19:case"end":return t.stop()}}),t,null,[[8,16]])})));return function(e,r){return t.apply(this,arguments)}}()),Yt={fetchTasks:Ut,removeTask:Zt,addTask:Kt,updateTask:Jt},$t=Object(y.d)({name:"tasks",initialState:{},reducers:{},extraReducers:function(t){t.addCase(Vt.fulfilled,(function(t,e){t[e.payload.todolist.id]=[]})),t.addCase(Ht.fulfilled,(function(t,e){e.payload.todolists.forEach((function(e){t[e.id]=[]}))})),t.addCase(Bt.fulfilled,(function(t,e){delete t[e.payload.id]})),t.addCase(Ut.fulfilled,(function(t,e){t[e.payload.todoListId]=e.payload.tasks})),t.addCase(Zt.fulfilled,(function(t,e){var r=t[e.payload.todoListId],a=r.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&r.splice(a,1)})),t.addCase(Kt.fulfilled,(function(t,e){t[e.payload.todoListId].unshift(e.payload)})),t.addCase(Jt.fulfilled,(function(t,e){var r=t[e.payload.todoListId],a=r.findIndex((function(t){return t.id===e.payload.taskId}));a>-1&&(r[a]=Object(x.a)(Object(x.a)({},r[a]),e.payload.domainModel))}))}}),Gt=Object(x.a)(Object(x.a)({},Yt),$t.actions),Xt=$t.reducer,Qt=s.a.memo((function(t){var e=t.task,r=t.todoListId,a=B(Gt),s=a.removeTask,i=a.updateTask,c=Object(n.useCallback)((function(){return s({todoListId:r,taskId:e.id})}),[s,r,e.id]),o=Object(n.useCallback)((function(t){return i({todoListId:r,taskId:e.id,domainModel:{title:t}})}),[i,r,e.id]),d=Object(n.useCallback)((function(t){var a=t.currentTarget.checked?U.Completed:U.New;i({todoListId:r,taskId:e.id,domainModel:{status:a}})}),[i,r,e.id]);return Object(I.jsxs)("div",{className:e.status===U.Completed?At.a.isDone:"",style:{display:"flex",alignItems:"center",position:"relative"},children:[Object(I.jsx)(z.a,{checked:e.status===U.Completed,onChange:d}),Object(I.jsx)(Nt,{title:e.title,onChange:o}),Object(I.jsx)(p.a,{onClick:c,"aria-label":"delete",size:"small",style:{position:"absolute",right:"5px"},children:Object(I.jsx)(St.a,{fontSize:"small"})})]},e.id+e.title)})),te=s.a.memo((function(t){var e=t.todolist,r=Object(k.c)((function(t){return t.tasks[e.id]})),a=B(Gt).fetchTasks,s=B(qt),i=s.changeTodoListFilter,c=s.removeTodoList,o=s.changeTodoListTitle,d=K();Object(n.useEffect)((function(){r.length||a(e.id)}),[e.id,a,r.length]);var u=Object(n.useCallback)((function(t){return i({id:e.id,filter:t})}),[i,e.id]),l=Object(n.useCallback)((function(){return c(e.id)}),[e.id,c]),f=Object(n.useCallback)(function(){var t=Object(E.a)(N.a.mark((function t(r,a){var n,s,i,c,o,u;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Gt.addTask({todoListId:e.id,title:r}),t.next=3,d(n);case 3:s=t.sent,Gt.addTask.rejected.match(s)?null!==(i=s.payload)&&void 0!==i&&null!==(c=i.errors)&&void 0!==c&&c.length?(u=null===(o=s.payload)||void 0===o?void 0:o.errors[0],a.setError(u)):a.setError("Some error occurred"):a.setTitle("");case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[e.id,d]),b=Object(n.useCallback)((function(t){return o({id:e.id,title:t})}),[e.id,o]),h=r;switch(e.filter){case"completed":h=r.filter((function(t){return t.status===U.Completed}));break;case"active":h=r.filter((function(t){return t.status===U.New}))}var O=function(t,r,a){return Object(I.jsx)(j.a,{variant:e.filter===t?"contained":"outlined",onClick:function(){return u(t)},size:"small",color:r,children:a})};return Object(I.jsxs)("div",{className:At.a.TodoList,children:[Object(I.jsxs)("div",{className:At.a.TodoTitle,children:[Object(I.jsx)("b",{children:Object(I.jsx)(Nt,{title:e.title,onChange:b})}),Object(I.jsx)(p.a,{"aria-label":"delete",onClick:l,disabled:"loading"===e.entityStatus,children:Object(I.jsx)(St.a,{})})]}),Object(I.jsx)(Lt,{addItem:f,disabled:"loading"===e.entityStatus}),Object(I.jsxs)("div",{className:At.a.Tasks,children:[h.map((function(t){return Object(I.jsx)(Qt,{task:t,todoListId:e.id},t.id)})),!h.length&&Object(I.jsx)("div",{children:"No tasks"})]}),Object(I.jsx)("div",{style:{marginTop:"15px"},children:Object(I.jsxs)(m.a,{direction:"row",spacing:2,children:[O("all","primary","All"),O("active","success","Active"),O("completed","secondary","Completed")]})})]})})),ee=s.a.memo((function(){var t=Object(k.c)((function(t){return t.todolists})),e=Object(k.c)(V),r=B(qt).fetchTodolists,a=K(),s=Object(n.useCallback)(function(){var t=Object(E.a)(N.a.mark((function t(e,r){var n,s,i,c,o,d;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=qt.addTodoList(e),t.next=3,a(n);case 3:s=t.sent,qt.addTodoList.rejected.match(s)?null!==(i=s.payload)&&void 0!==i&&null!==(c=i.errors)&&void 0!==c&&c.length?(d=null===(o=s.payload)||void 0===o?void 0:o.errors[0],r.setError(d)):r.setError("Some error occurred"):r.setTitle("");case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[a]);return Object(n.useEffect)((function(){e&&(t.length||r())}),[r,e,t.length]),e?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(_.a,{container:!0,justifyContent:"center",style:{marginTop:"40px"},children:Object(I.jsxs)(q.a,{elevation:2,style:{padding:"15px"},children:[Object(I.jsx)("h3",{children:"Add task list"}),Object(I.jsx)(Lt,{addItem:s})]})}),Object(I.jsx)(_.a,{container:!0,spacing:3,justifyContent:"center",style:{marginTop:"30px"},children:t.map((function(t){return Object(I.jsx)(_.a,{item:!0,style:{paddingBottom:"20px"},children:Object(I.jsx)(q.a,{elevation:2,style:{padding:"15px"},children:Object(I.jsx)(te,{todolist:t},t.id)},t.id)},t.id)}))})]}):Object(I.jsx)(S.a,{to:"/login"})})),re=s.a.memo((function(){var t=Object(k.c)(ht),e=Object(k.c)(Ot),r=Object(k.c)(a.selectIsLoggedIn),s=B(bt).logout,i=B(yt).initializeApp;Object(n.useEffect)((function(){e||i()}),[i,e]);var c=Object(n.useCallback)((function(){s()}),[s]);return e?Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(L,{}),Object(I.jsxs)(u.a,{position:"static",children:[Object(I.jsx)(l.a,{children:Object(I.jsxs)(o.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[Object(I.jsxs)(o.a,{sx:{display:"flex",alignItems:"center"},children:[Object(I.jsx)(p.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(I.jsx)(O.a,{})}),Object(I.jsx)(f.a,{variant:"h6",component:"div",children:"News"})]}),r&&Object(I.jsx)(j.a,{onClick:c,color:"inherit",children:"Log out"})]})}),"loading"===t&&Object(I.jsx)(b.a,{})]}),Object(I.jsx)(h.a,{fixed:!0,children:Object(I.jsxs)(S.d,{children:[Object(I.jsx)(S.b,{path:"/",element:Object(I.jsx)(ee,{})}),Object(I.jsx)(S.b,{path:"/login",element:Object(I.jsx)(J,{})}),Object(I.jsx)(S.b,{path:"/404",element:Object(I.jsx)("h1",{children:"404: PAGE NOT FOUND"})}),Object(I.jsx)(S.b,{path:"*",element:Object(I.jsx)(S.a,{to:"/404"})})]})})]}):Object(I.jsx)(o.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},children:Object(I.jsx)(d.a,{})})})),ae=r(62),ne=Object(H.c)({auth:jt,app:kt,todolists:Wt,tasks:Xt}),se=Object(y.a)({reducer:ne,middleware:function(t){return t().prepend(ae.a)}});window.store=se;var ie=r(60);c.a.render(Object(I.jsx)(k.a,{store:se,children:Object(I.jsx)(ie.a,{children:Object(I.jsx)(re,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},57:function(t,e,r){t.exports={TodoList:"Todolist_TodoList__VKZxX",TodoTitle:"Todolist_TodoTitle__2L1zr",Tasks:"Todolist_Tasks__1YIF7",isDone:"Todolist_isDone__1Vqqb"}}},[[157,1,2]]]);
//# sourceMappingURL=main.e3e9066e.chunk.js.map